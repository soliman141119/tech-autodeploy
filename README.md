# 🚀 Full Automation Project — Terraform + Ansible + Node.js + CI/CD

## 📘 Overview
This project demonstrates end-to-end automation for deploying a Node.js web application on AWS using:

- **Terraform** → to provision infrastructure (VPC, EC2, Load Balancer, etc.)
- **Ansible** → to configure servers and deploy Docker containers
- **GitHub Actions (CI/CD)** → to automate the deployment pipeline
- **Docker** → to containerize the Node.js app

With one pipeline run, your full AWS environment and application go live automatically 🌍

<img width="1669" height="643" alt="image" src="https://github.com/user-attachments/assets/c5085379-fd0b-49bf-97ad-ebad47932146" />

---

## 🏗️ Project Architecture

Here’s how everything fits together 👇

```
            ┌────────────────────────────┐
            │        GitHub Repo          │
            │ (.github/workflows)         │
            │   Pipeline.yml triggers     │
            └────────────┬────────────────┘
                         │
                         ▼
        ┌────────────────────────────────────┐
        │      GitHub Actions CI/CD          │
        │------------------------------------│
        │  1️⃣ Runs Terraform (AWS Infra)     │
        │  2️⃣ Generates Ansible inventory    │
        │  3️⃣ Executes Ansible playbook       │
        │  4️⃣ Deploys Dockerized Node.js app  │
        └────────────────┬───────────────────┘
                         │
                         ▼
           ┌──────────────────────────┐
           │        AWS Cloud          │
           │---------------------------│
           │ 🌐 VPC + Subnets          │
           │ 🔐 Security Groups        │
           │ 🖥️ 2× EC2 Instances       │
           │ ⚖️ Application Load Balancer │
           └────────────┬─────────────┘
                        │
                        ▼
              ┌────────────────┐
              │ Node.js + Docker│
              │   (on EC2)      │
              │  Port 3000 → 80 │
              └───────┬─────────┘
                      ▼
            🌍 Accessible via ALB DNS URL
```

---

## 📂 Project Structure

```
📦 tech-autodeploy
├── .github/
│   └── workflows/
│       └── Pipeline.yml          # CI/CD pipeline definition
│
├── ansible/
│   ├── playbook.yml              # Automates Docker & app deployment
│   └── ansible.cfg               # Config for inventory & SSH access
│
├── app/
│   ├── public/                   # Static frontend files
│   ├── views/                    # HTML templates
│   ├── Dockerfile                # Node.js app container build
│   ├── package.json              # Node.js dependencies
│   └── server.js                 # Main app entry point
│
├── terraform/
│   ├── main.tf                   # AWS infrastructure setup
│   ├── outputs.tf                # Terraform outputs
│   ├── provider.tf               # AWS provider config
│   ├── variables.tf              # Input variables
│   └── versions.tf               # Terraform versioning
│
└── inventory.ini                 # Auto-generated by Terraform
```

---

## 🧰 Key Technologies Used

- 🪣 **Terraform** – Infrastructure provisioning  
- ⚙️ **Ansible** – Configuration and deployment automation  
- 🐳 **Docker** – App containerization  
- 💻 **Node.js + Express** – Backend app framework  
- ☁️ **AWS (VPC, EC2, ALB)** – Cloud infrastructure  
- 🤖 **GitHub Actions** – CI/CD automation  

---

## ☁️ AWS Resources Created

| Resource | Description |
|-----------|--------------|
| VPC | Custom network (10.0.0.0/16) |
| Subnets | Two public subnets in different zones |
| Internet Gateway | Internet access for the VPC |
| Route Table | Outbound traffic route |
| Security Group | Allows SSH, HTTP, HTTPS |
| EC2 Instances | Two app servers (Ubuntu) |
| Load Balancer (ALB) | Distributes HTTP traffic |
| Target Group | Connects EC2 to ALB |
| Local Files | Auto-generates Ansible inventory and config |

---

## 🔄 CI/CD Workflow — `.github/workflows/Pipeline.yml`

### 🧩 Steps Overview

1. **Checkout Repository** → Downloads the project code  
2. **Terraform Init & Apply** → Provisions AWS infrastructure (VPC, EC2, ALB)  
3. **Generate Ansible Inventory** → Creates `inventory.ini` with EC2 IPs  
4. **Run Ansible Playbook** → Installs Docker, pulls Node.js image, and runs the container  
5. **Deployment Complete 🎉** → App becomes accessible via ALB public DNS  

---

## ▶️ How to Run the Pipeline

### 🚀 From GitHub Actions

1. Push your changes:

   ```bash
   git add .
   git commit -m "Trigger deployment"
   git push origin main
   ```

2. Go to your GitHub repository → **Actions** tab  
3. Select **CI/CD Deployment Pipeline** → click **Run workflow**  

✅ The pipeline will:

- Create all AWS resources  
- Configure EC2 via Ansible  
- Deploy the Dockerized Node.js app  
- Output the Load Balancer DNS  

---

### 🧪 Run Locally (Manual Option)

```bash
cd terraform
terraform init
terraform apply -auto-approve

cd ../ansible
ansible-playbook -i ../inventory.ini playbook.yml
```

---

## 🌐 Access Your Application

After deployment, Terraform or the GitHub pipeline will output a DNS like:

```
http://nodejs-app-lb1-xxxxxxxx.eu-central-1.elb.amazonaws.com
```

Open this URL in your browser — your app is live 🎉

---

## ✅ Summary

| Feature | Tool |
|----------|------|
| Infrastructure as Code | Terraform |
| Configuration Management | Ansible |
| Containerization | Docker |
| CI/CD Automation | GitHub Actions |
| Application Stack | Node.js + Express |
| Cloud Provider | AWS (EC2, VPC, ALB) |

## 🎥 Project Demo

[![Watch the video](https://img.icons8.com/clouds/500/video.png)](https://drive.google.com/file/d/180vZAtzT9nbsUh7uufe2KN6Te3hhzWmr/view?usp=drive_link)
> Click the image to watch the full demo on Google Drive 🎬


## 👨‍💻 Author

- ### Soliman Ali 
### 🚀 DevOps Engineer | Cloud & Automation Enthusiast
### 📧 [solyman.alys@gmail.com]
### 💼 Passionate about Infrastructure as Code, CI/CD, and scalable cloud solutions.
